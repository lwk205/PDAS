

10 'PROGRAM TO PLOT RESULTS FROM COMPRESSIBLE EPPLER CODE ON AN HP-GL/2
20 'COMPATIBLE PRINTER OR PLOTTER.
30 'MODIFIED FROM J.G. RONCZ'S EPPLOT.BAS BY S. WESTERFELD
35 'THIS PROGRAM IS DECLARED TO BE FREEWARE.
40 'PRINT TITLE SCREEN ON MONITOR.
41 WIDTH 80: SCREEN 0, 0, 0: COLOR 7, 1: KEY OFF: CLS
42 LOCATE 2, 20: COLOR 0, 7
43 PRINT " THE EPPLER CODE HP-GL/2 PLOTTER PROGRAM ";
44 COLOR 7, 1: PRINT : PRINT

50 KEY OFF
70 INPUT "ENTER FILE NAME TO BE PLOTTED: ", FILE$
80 OPEN FILE$ FOR INPUT AS #1
110 IF EOF(1) THEN GOSUB 600
120 LINE INPUT #1, PLOTTYPE$
190 IF INSTR(PLOTTYPE$, "DIAG") <> 0 THEN XSCALE = 826.34: YSCALE = 637.46: XOFF = 0: PRINT "PRINTING DIAG": GOSUB 400
200 IF INSTR(PLOTTYPE$, "BLAY") <> 0 THEN XSCALE = 383.17: YSCALE = 591.18: XOFF = 0: PRINT "PRINTING BLAY": GOSUB 400
210 IF INSTR(PLOTTYPE$, "CDCL") <> 0 THEN XSCALE = 870.08: YSCALE = 671.21: XOFF = -1: PRINT "PRINTING CDCL": GOSUB 400
220 WHILE NOT EOF(1)
230 INPUT #1, X, Y, I
240 IF I = 999 THEN 290
250 PX = INT((X + XOFF) * XSCALE): PY = INT(Y * YSCALE)
260 IF I = 2 THEN LPRINT "PA"; LASTX; ","; LASTY; ";PD"; PX; ","; PY; ";PU;";
270 LASTX = PX: LASTY = PY
280 WEND:
290 CLS : GOSUB 500
300 GOTO 110


REM CHR$(27) IS THE ESCAPE CHARACTER
REM  initialize PCL5 printer for HPGL/2
400  LPRINT CHR$(27); "E"; CHR$(27); "&l2A"; CHR$(27); "&l3O"; CHR$(27); "&l1E";
405  LPRINT CHR$(27); "*c8177x5880y"; CHR$(27); "*p50Y";
410  LPRINT CHR$(27); "*c0T"; CHR$(27); "%-1BBPIN;SP1";
420  LPRINT "PE7<=__<__;SP7;LT;PW0.254;RO0;PU;IW0,0,12000,8500;";
430  LPRINT "SP2;PA0,0;PU;";
440  RETURN

REM  end of page eject
500  LPRINT "PUSP0;PG;"; CHR$(27); "E";
510  RETURN

REM say goodbye
600 CLOSE
610 PRINT " ALL DONE"
620 PRINT CHR$(7); CHR$(7)
630 END

399 SUB INIT

END SUB

